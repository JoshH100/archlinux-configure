# set vi:syntax=yaml
doupgrade: true
software_remove:
# label what kind of license servers these are
license:
  servers:
    - license.mines.edu
    - enable.mines.edu
    - entitle.mines.edu
    - entrust.mines.edu
pacserve:
  # enable use of this flag
  enabled: false 
  args: --multicast --peer http://labbuild-test1.mines.edu:15678
cups:
  servername: cups.mines.edu
pacman:
  canary_hosts:
    - bb136-01
    - bb136-23
    - ck182-34
    - ch275l-07
    - grla110-28
  options:
    - UseSyslog
    - Color
    - TotalDownload
    - CheckSpace
    - UseDelta
  preserved_configs:
    - "etc/ssh/sshd_config"
    - "etc/systemd/logind.conf"
  repos:
      - {name: mines2, server: 'http://labbuild-test1.mines.edu:15678/$repo' }
      - {name: sublime-text, server: 'https://download.sublimetext.com/arch/stable/x86_64' }
  mirrors:
    - 'http://labbuild-test1/$repo/os/$arch'
    - 'https://lug.mines.edu/mirrors/archlinux/$repo/os/$arch'
brand:
  short: csm
  motd:
    - "Hostname: $(hostname)"
    - "Archlinux kernel version: $(pacman -Q linux)"
    - "Send software/package requests to helpdesk@mines.edu"
system:
  locales:
    - en_US.UTF-8
    - en_DK.UTF-8 # en_DK for real l88t users respecing iso8601
  timezone: 'America/Denver'
ssh1:
  ceys: # keys breaks ansible :)
  - {user: root, state: present, key: !unsafe 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDF5Qk73nqORXuuKxf3BCWjN4ej8WL9D/ONGAZb6InaK josh@greyfox'}
  - {user: root, state: absent, key: !unsafe 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDO2AP8dIYfX45Ls+FsmlZjEz2XRy1gQTHpvVkPgeFehOmpDiZCR3XIkTLGpt+YSEpHVp9Knl3o6NZBv4z+g9ScS36s0ithAWEeIpLEwSD5lIrmUU2NCdXsbSucR29d6UlyexwCmSJ+qcPxS1HmFzYBG+59z/PT3eXyOgeSeGmz0g5fuAgj0eptnd/0oSAz/kdwM9qMR2MHg0ViREcxanjSnztjFiZkBIyqTDfYaFcpMAkXpW/xeis3JHZLFIqSNBEQEhSc3A+mriR894IfnyudPTldziRGTI0oY2qAOCZ4okMw4lpY4Xnc4krAvPEtRkr6EhE8wpBVeMOW9cJCbMZ1 jhoffer@pizza.mines.edu.'}

lightdm:
  session_wrapper: /etc/lightdm/Xsession
  session_cleanup: /etc/lightdm/Xcleanup
  user_session: cinnamon
ansible:
  userprofile: "ansible-playbook /usr/share/mines-playbooks/archlinux-userprofile/userprofile.yml >> /tmp/ansible.log"
sensu:
  rabbitmq:
    host: plabmon.mines.edu
    user: "client"
    password: "sm2JNjS6lhGjKnPFnp5w" 
zsh:
  theme: clint
  term: linux
  sources:
    - "/usr/share/doc/pkgfile/command-not-found.zsh"
    - "/usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh"
    - "/etc/zsh/buildfunctions"
    #- "{{ zsh.build.functions.dest }}" # this probably won't work
  build:
    functions:
      src: buildfunctions.j2
      dest: /etc/zsh/buildfunctions
contact_email: jhoffer@mines.edu
mines_repo_host: labbuild-test1.mines.edu:15678
type: lab
repos:
  mines2:
sudo:
  groups:
    - ccitlabadmins
# REMOVE module_list
module_list:
  - cachefiles
pacmankeys:
  - {name: "8A8F901A", src: "https://download.sublimetext.com/sublimehq-pub.gpg"}
  #- {name: "7448C890582975CD" }
nfs:
  domain: mines.edu
kerberos:
  realm: mines.edu
  admin_server: 138.67.138.105
  kdc:
    - 138.67.138.105
    - 138.67.138.106
    - 138.67.138.114
ldap:
  packages:
    - openldap
    - nss-pam-ldapd
    - sssd
    - pam-krb5
  domain: mines.edu
  uri: "ldaps://ldap.mines.edu"
  searchbase: "dc=mines,dc=edu"
  tlscacert_src: MinesCerts
  tlscacert_dir: "/etc/MinesCerts"
  realm: "MINES.EDU"
  krb5_server: "138.67.138.105,138.67.138.106"
network:
  domains: adit.mines.edu mines.edu
  config:
    - 25-wired.network
  smb_share:
    name: zdrive
    domain: ADIT
    path: "hornet-ct.mines.edu/Users/${USER:0:1}/${USER}"
    share: users
    src: '$XDG_RUNTIME_DIR/gvfs/smb-share:domain=ADIT,server=hornet-ct.mines.edu,share=users,user=${USER}/${USER:0:1}/${USER}'
    dst: "$HOME/zdrive"
    inst: /usr/local/bin/zdrive
    desktop_entry:
      comment: Mount ADIT Z Drive
      categories: "GNOME;GTK;Utility;Core;Mines"
mounts:
  home:
    share: files.mines.edu:/export/fermat
    mount: /u 
    type: nfs
    options: x-systemd.device-timeout=10,rsize=32768,wsize=32768,nolock,ac,vers=3
    automount: true
  gpfc:
    share: files.mines.edu:/export/gpfc
    mount: /gpfc 
    type: nfs
    options: x-systemd.device-timeout=10,rsize=32768,wsize=32768,nolock,ac,vers=3
    automount: true
  scratch:
    share: files.mines.edu:/export/scratch
    mount: /scratch 
    type: nfs
    options: x-systemd.device-timeout=10,rsize=32768,wsize=32768,nolock,ac,vers=3
    automount: true
packages:
  remove:
    - arm
    - attica
    - embree2
    - jre7-openjdk
    - jre7-openjdk-headless
    - kdebase-runtime
    - kdelibs
    - lib32-flashplugin
    - libnm-gtk
    - liborigin2
    - libxfont
    - lightdm-kde-greeter
    - linux-mainline
    - linux-mainline-headers
    - luxblend25
    - luxrays
    - luxrender
    - pcmciautils
    - perl-gtk2-ex-podviewer
    - perl-gtk2-ex-simple-list
    - phonon-qt4
    - phonon-qt4-gstreamer
    - polkit-qt4
    - python-pyside
    - python-pyside-common
    - python-shiboken
    - python2-cssutils
    - python2-gnuplot
    - python2-neovim
    - python2-pyside
    - python2-shiboken
    - qt-assistant-compat
    - qtiplot
    - rar
    - shiboken
    - srvadmin-hapi
    - vim
    - visual-studio-code
    - wireshark-gtk
    - wpa_supplicant
  install:
    - accerciser
    - adobe-source-code-pro-fonts
    - afpfs-ng
    - aide
    - aircrack-ng
    - aisleriot
    - alex
    - alsa-utils
    - anaconda
    - anaconda2
    - android-emulator
    - android-sdk
    - android-sdk-platform-tools
    - android-udev
    - anjuta
    - ansible
    - antiword
    - apache
    - apcupsd
    - apm
    - apw-git
    - arandr
    - arch-install-scripts
    - archey3-git
    - ardour
    - arduino
    - aria2
    - arj
    - armagetronad
    - aspell-en
    - at
    - atftp
    - atom
    - atomicparsley
    - atomix
    - audacity
    - aurutils-git
    - aurvote
    - autoconf
    - autojump
    - automake
    - autopep8
    - avahi
    - awesome-terminal-fonts
    - baobab
    - base-devel
    - bash
    - bash-completion
    - bbswitch
    - beignet
    - biber
    - bind-tools
    - binutils
    - binwalk
    - bison
    - bisonc++
    - blender
    - bluedevil
    - bluez-utils
    - boost
    - brainfuck
    - brasero
    - breeze-gtk
    - bridge-utils
    - browserify
    - burpsuite
    - bzip2
    - cabal-install
    - cabextract
    - cachefilesd
    - calibre
    - ccache
    - ccze
    - cdrtools
    - certbot
    - certbot-apache
    - cheese
    - cherrytree
    - chromium
    - chromium-widevine
    - cinnamon
    - ckbcomp
    - clang
    - clinfo
    - clisp
    - cmake
    - cmus
    - coin-or-mp
    - colorgcc
    - compton
    - conky
    - coolreader
    - coq
    - coqide
    - coreboot-utils-git
    - coreutils
    - cppunit
    - cpupower
    - crypto++
    - cryptsetup
    - cscope
    - csfml
    - ctags
    - cuneiform
    - cups
    - cups-pdf
    - cython
    - d-feet
    - dash
    - dconf-editor
    - ddd
    - debootstrap
    - deja-dup
    - dell-command-configure
    - devhelp
    - device-mapper
    - devtools
    - dhcpcd
    - dia
    - dialog
    - dictd
    - diffutils
    - discord
    - distcc
    - dmenu
    - dmidecode
    - dnsmasq
    - docker
    - docker-compose
    - dolphin
    - dolphin-plugins
    - dos2unix
    - dosfstools
    - dot2tex
    - dotconf
    - doxygen
    - drkonqi
    - dropbox
    - dropbox-cli
    - duplicity
    - e2fsprogs
    - eagle
    - ebtables
    - eclim
    - eclipse-cpp
    - efibootmgr
    - efitools
    - emacs
    - empathy
    - emscripten
    - eog
    - epiphany
    - ethtool
    - evince
    - evolution
    - exo
    - expect
    - extra-cmake-modules
    - fail2ban
    - fakeroot
    - fbreader
    - feh
    - ffmpeg
    - file
    - file-roller
    - filesystem
    - filezilla
    - findutils
    - firefox
    - firejail
    - firewalld
    - five-or-more
    - flake8
    - flashplugin
    - flashrom
    - flex
    - fltk
    - four-in-a-row
    - fpc
    - fpc-src
    - fping
    - franz-bin
    - freerdp
    - freesteam
    - freshplayerplugin
    - ftjam
    - garcon
    - gawk
    - gcc
    - gcc-fortran
    - gcc-libs
    - gcc6
    - gdb
    - gdm
    - geckodriver
    - gedit
    - geoip-database-extra
    - gettext
    - ghc
    - ghidra
    - gimp
    - git
    - gitg
    - glfw-x11
    - glibc
    - gnome-2048
    - gnome-backgrounds
    - gnome-builder
    - gnome-calculator
    - gnome-calendar
    - gnome-characters
    - gnome-chess
    - gnome-clocks
    - gnome-code-assistance
    - gnome-color-manager
    - gnome-contacts
    - gnome-control-center
    - gnome-devel-docs
    - gnome-dictionary
    - gnome-disk-utility
    - gnome-documents
    - gnome-font-viewer
    - gnome-getting-started-docs
    - gnome-keyring
    - gnome-klotski
    - gnome-logs
    - gnome-mahjongg
    - gnome-maps
    - gnome-mines
    - gnome-music
    - gnome-nettool
    - gnome-nibbles
    - gnome-photos
    - gnome-robots
    - gnome-screenshot
    - gnome-session
    - gnome-settings-daemon
    - gnome-shell
    - gnome-shell-extensions
    - gnome-sound-recorder
    - gnome-sudoku
    - gnome-system-monitor
    - gnome-taquin
    - gnome-terminal
    - gnome-tetravex
    - gnome-todo
    - gnome-user-docs
    - gnome-user-share
    - gnome-weather
    - gnumeric
    - gnuplot
    - go
    - gocr
    - godot-bin
    - goldendict
    - gparted
    - gprolog
    - gptfdisk
    - grep
    - grilo-plugins
    - grive
    - grub
    - grunt-cli
    - gscan2pdf
    - gsl
    - gsmartcontrol
    - gst-libav
    - gst-plugins-good
    - gstreamer-vaapi
    - gstreamer0.10
    - gstreamer0.10-base
    - gstreamermm
    - gtk2-perl
    - gucharmap
    - gulp
    - gvfs
    - gvfs-afc
    - gvfs-goa
    - gvfs-google
    - gvfs-gphoto2
    - gvfs-mtp
    - gvfs-nfs
    - gvfs-smb
    - gvim
    - gzip
    - happy
    - harvid
    - hashcat
    - haskell-haddock-library
    - haveged
    - heimdall-git
    - hexchat
    - hitori
    - htop
    - i2c-tools
    - i3-gaps
    - i3blocks
    - i3lock
    - i3status
    - i7z
    - iagno
    - icedtea-web
    - iftop
    - imagej
    - inetutils
    - inkscape
    - intel-ucode
    - intellij-idea-community-edition
    - iotop
    - iproute2
    - iputils
    - ipw2100-fw
    - ipw2200-fw
    - ipython
    - iw
    - java-rxtx
    - jdk8-openjdk
    - jfsutils
    - josm
    - jre8-openjdk
    - junit
    - jupyter-nbconvert
    - jupyter-notebook
    - kbibtex
    - kdialog
    - keepass
    - keepassxc
    - kexec-tools
    - keychain
    - kgamma5
    - kile
    - kinfocenter
    - kmix
    - kodi
    - konsole
    - konversation
    - krita
    - krita-plugin-gmic
    - kscreen
    - ksshaskpass
    - kwallet-pam
    - kwayland-integration
    - kwrited
    - lapacke
    - latex-enumitem
    - lazarus-qt5
    - leatherman
    - less
    - lftp
    - lhasa
    - lib32-gnutls
    - lib32-gst-plugins-good
    - lib32-libva-intel-driver
    - lib32-libva-vdpau-driver
    - lib32-mesa-demos
    - lib32-mesa-vdpau
    - lib32-nvidia-utils
    - lib32-vulkan-intel
    - libb64
    - libcanberra-pulse
    - libfreexl
    - libgnome-games-support
    - libkscreen
    - liblightdm-qt5
    - libmupdf
    - libopenraw
    - libreoffice-fresh
    - libretro-overlays
    - libselinux
    - libtool
    - libva-intel-driver
    - libva-utils
    - libva-vdpau-driver
    - libvdpau-va-gl
    - libvirt
    - libvirt-python
    - licenses
    - lightdm
    - lightdm-gtk-greeter
    - lightdm-gtk-greeter-settings
    - lightdm-webkit2-greeter
    - lightsoff
    - linux
    - linux-headers
    - lldpd
    - logrotate
    - lollypop
    - lostfiles
    - lshw
    - lsof
    - lua-filesystem
    - lvm2
    - lwks
    - lxc
    - lynx
    - lzop
    - m4
    - maim
    - make
    - man-db
    - man-pages
    - mariadb
    - mariadb-jdbc
    - mars-mips
    - mathematica
    - mathjax
    - matlab
    - mdadm
    - menu-calc
    - mesa-vdpau
    - meson
    - metis
    - mimeo
    - mines-playbooks
    - minicom
    - mit-scheme
    - mlocate
    - mnemosyne
    - monit
    - mono
    - mopidy
    - moreutils
    - mosh
    - mousepad
    - mousetweaks
    - mpd
    - mpv
    - mupdf-gl
    - mupdf-tools
    - mutt
    - mutter
    - nano
    - nautilus
    - nautilus-sendto
    - ncmpcpp
    - neovim
    - nerd-fonts-git
    - net-tools
    - netctl
    - netstat-nat
    - networkmanager
    - nfs-utils
    - nload
    - nmap
    - noto-fonts-emoji
    - nss-mdns
    - nss-pam-ldapd
    - ntfs-3g
    - ntp
    - nvidia
    - nvidia-settings
    - nvidia-utils
    - nyx
    - octave
    - okular
    - openbsd-netcat
    - opencl-nvidia
    - opencv
    - openldap
    - openmp
    - openmpi
    - openshot
    - openssh-askpass
    - openssh
    - openvpn
    - orage
    - orca
    - os-prober
    - otf-font-awesome
    - ovmf
    - oxygen
    - p7zip
    - pacman
    - pacserve
    - pam-krb5
    - pamixer
    - pandoc
    - parallel
    - patch
    - pavucontrol
    - pciutils
    - pdfjs
    - pelican
    - pepper-flash
    - percona-toolkit
    - perl
    - perl-dbd-mysql
    - perl-file-mimeinfo
    - perl-test-perltidy
    - pgcli-git
    - phonon-qt5-gstreamer
    - php-apache
    - php-apcu
    - php-cgi
    - php-intl
    - pipewire
    - pitivi
    - pkgfile
    - pkgstats
    - plan9port
    - playonlinux
    - polari
    - polybar
    - poppler-data
    - postfix
    - postgresql
    - postgresql-libs
    - powerdevil
    - powerline
    - powerline-fonts
    - powerline-vim
    - powerpanel
    - powertop
    - preloader-signed
    - processing
    - processing-examples
    - procps-ng
    - psmisc
    - pulseaudio-ctl
    - pulseeffects
    - putty
    - pv
    - pychecker
    - pygmentize
    - pypy
    - pypy3
    - python
    - python-basemap
    - python-beautifulsoup4
    - python-cherrypy
    - python-django
    - python-gnuplot
    - python-ipywidgets
    - python-jedi
    - python-jsbeautifier
    - python-logbook
    - python-markdown
    - python-matplotlib
    - python-mpi4py
    - python-mpv-git
    - python-neovim
    - python-neovim
    - python-networkx
    - python-nose
    - python-numpy
    - python-opengl
    - python-pandas
    - python-pip
    - python-progressbar
    - python-psutil
    - python-psycopg2
    - python-pycuda
    - python-pydot
    - python-pygal
    - python-pygit2
    - python-pylast
    - python-pylint
    - python-pyswip
    - python-qscintilla-qt5
    - python-qt.py
    - python-qtpy
    - python-scipy
    - python-selenium
    - python-sqlalchemy
    - python-sympy
    - python-systemd
    - python-tensorflow-estimator
    - python-tensorflow-opt-cuda
    - python-virtualenv
    - python-wikipedia
    - python-xgboost-git
    - python2-beautifulsoup4
    - python2-ipykernel
    - python2-markdown
    - python2-matplotlib
    - python2-mpi4py
    - python2-pandas
    - python2-pip
    - python2-powerline
    - python2-pybluez
    - python2-pyenchant
    - python2-pygame
    - python2-pygit2
    - python2-pylint
    - python2-pyqt5
    - python2-qtpy
    - python2-scipy
    - python2-sphinx
    - python2-xgboost-git
    - python3-threaded_servers
    - qbittorrent
    - qemu
    - qemu-arch-extra
    - qemu-block-iscsi
    - qt5-webengine
    - qtspim
    - qtwebkit-plugins-git
    - quadrapassel
    - quota-tools
    - qutebrowser
    - racket
    - rclone
    - rdesktop
    - recoll
    - redshift
    - reflector
    - reiserfsprogs
    - remmina
    - repoctl
    - reptyr
    - ristretto
    - rkhunter
    - rkt
    - rofi
    - root
    - rpmextract
    - rrdtool
    - rstudio-desktop-bin
    - rtorrent
    - ruby
    - ruby-docs
    - rust-racer
    - rustup
    - rutorrent
    - rxvt-unicode
    - rygel
    - s-nail
    - sagemath
    - sagemath-jupyter
    - sakura
    - samba
    - sbcl
    - sbsigntools
    - scala
    - scala-docs
    - scons
    - scrapy
    - screen
    - scrot
    - sdcv
    - seahorse
    - sed
    - sensu-go-agent
    - servo-latest
    - shadow
    - shairplay
    - sharutils
    - sl
    - smbnetfs
    - smplayer
    - sparkfun-eagle-lib-git
    - spectacle
    - spotify
    - spotify-adkiller-git
    - squashfs-tools
    - sshfs
    - sssd
    - st-git
    - steam
    - steam-native-runtime
    - strace
    - streamlink
    - sublime-text
    - subversion
    - sudo
    - supertuxkart
    - sushi
    - swell-foop
    - swh-plugins
    - swi-prolog
    - swig
    - synaesthesia
    - synergy
    - sysfsutils
    - sysstat
    - systemd-boot-pacman-hook
    - systemd-swap
    - systemd-system-update-pacman
    - systemd-sysvcompat
    - tali
    - tar
    - task
    - tcllib
    - tcltls
    - tcpdump
    - terminator
    - terminology
    - tesseract-data-eng
    - testdisk
    - texinfo
    - texlive-bibtexextra
    - texlive-core
    - texlive-fontsextra
    - texlive-formatsextra
    - texlive-games
    - texlive-humanities
    - texlive-latexextra
    - texlive-music
    - texlive-pictures
    - texlive-pstricks
    - texlive-publishers
    - texlive-science
    - texstudio
    - tftp-hpa
    - threelayout
    - thunar
    - thunar-archive-plugin
    - thunar-media-tags-plugin
    - thunar-volman
    - thunderbird
    - thunderbird-i18n-en-us
    - tigervnc-viewer
    - tinycdb
    - tk
    - tmux
    - totem
    - traceroute
    - tracker
    - transset-df
    - ttf-dejavu
    - ttf-font-awesome
    - ttf-liberation
    - tumbler
    - ufw
    - ufw-extras
    - unace
    - unhide
    - unrar
    - unzip
    - urxvt-perls
    - urxvt-resize-font-git
    - usbutils
    - user-manager
    - util-linux
    - uucp
    - vbetool
    - vcdimager
    - vdpauinfo
    - veracrypt
    - vi
    - vifm
    - vim-omnicppcomplete
    - vinagre
    - vino
    - virt-manager
    - virt-viewer
    - visit-bin
    - visual-studio-code-bin
    - vlc
    - vmware-workstation
    - vsftpd
    - vulkan-intel
    - wget
    - which
    - wine-mono
    - wine_gecko
    - winetricks
    - wireshark-qt
    - x11-ssh-askpass
    - x264
    - xbindkeys
    - xdaliclock
    - xdelta3
    - xdg-desktop-portal-gtk
    - xdg-user-dirs-gtk
    - xdot
    - xdotool
    - xf86-video-amdgpu
    - xf86-video-intel
    - xf86-video-nouveau
    - xfburn
    - xfconf
    - xfdesktop
    - xfsprogs
    - xfwm4
    - xfwm4-themes
    - xgboost-git
    - xjadeo
    - xmlto
    - xorg-server
    - xorg-server-xephyr
    - xorg-server-xvfb
    - xorg-xev
    - xorg-xhost
    - xorg-xinit
    - xorg-xinput
    - xournalpp
    - xpdf
    - xscreensaver
    - xsel
    - xterm
    - xvkbd
    - xxkb
    - yadm-git
    - yapf
    - yelp
    - youtube-dl
    - z3
    - zathura
    - zathura-djvu
    - zathura-pdf-poppler
    - zathura-ps
    - zotero
    - zsh
    - zsh-syntax-highlighting
isgui: yes
isdell: yes
islab: yes
isserver: yes
# sshd_allowed_groups: root 
